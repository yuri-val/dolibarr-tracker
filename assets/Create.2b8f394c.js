import{b as f,u as b}from"./vue-router.f31f395a.js";import{u as h,s as v}from"./utils.5c84b0e6.js";import{_ as S,u as k}from"./index.cf167ba9.js";import{r as C,R as g,G as l,x,K as I,H as u,M as p,z as M,U as V,B as j}from"./@vue.ff41095b.js";import"./pinia.8245b70d.js";import"./stores.c5b1d3c0.js";import"./useMetaData.fed50f3d.js";import"./@vueuse.450f3a45.js";import"./vue-gtag.ca39f9ea.js";import"./vuestic-ui.8fbf3162.js";import"./colortranslator.1acd5564.js";import"./cleave.js.09ba90ad.js";import"./tslib.6d8141ce.js";import"./asva-executors.b6e509c3.js";import"./@popperjs.031b8b1a.js";import"./axios.70cb0bcf.js";import"./lodash.2dcc3f5e.js";const w={name:"CreateTask",setup(){const o=f(),r=b(),s=h(),e=k(),n=C({label:"",ref:(Math.random()+1).toString(36).substring(2),fk_project:o.query.projectId});g(()=>{v(e,o.query.projectId)});const m=t=>{const a=new Date,i=a.getFullYear()-2e3,d=(100+a.getMonth()+1).toString().substr(1),_=(1e4+parseInt(t)).toString().substr(1);return`TK${i}${d}-${_}`};return{form:n,onSave:()=>{s.createItem(n.value).then(t=>{s.updateItem(t,{ref:m(t)}).then(()=>{r.push({name:"project.show",params:{id:o.query.projectId}})})})}}}},y=u("h5",{class:"display-5"},"Create new task...",-1),B={class:"mt-4 mb-4"},R=j(" Save ");function T(o,r,s,e,n,m){const c=l("va-input"),t=l("va-button");return x(),I(V,null,[y,u("div",B,[p(c,{class:"mb-4",modelValue:e.form.label,"onUpdate:modelValue":r[0]||(r[0]=a=>e.form.label=a),placeholder:"Outline",label:"Label",outline:""},null,8,["modelValue"])]),p(t,{block:"",onClick:e.onSave},{default:M(()=>[R]),_:1},8,["onClick"])],64)}var Q=S(w,[["render",T]]);export{Q as default};
